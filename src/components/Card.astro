---
import { urlFor } from '../utils/sanity';
import type { Transmision } from '../types/sanity';
import { Icon } from 'astro-icon/components';

interface Props {
  transmision: Transmision;
}
const { transmision } = Astro.props;
const { marca, modelo, precio, condicion, foto, slug } = transmision; // <-- Obtenemos el slug
---

<a href={`/transmisiones/${slug.current}`} class="card-link">
  <div class="card">
    <div class="image-container">
      {foto && (
        <img src={urlFor(foto).width(400).height(300).url()} alt={`Foto de ${marca} ${modelo}`} />
      )}
    </div>
    <div class="card-content">
      <h2>{marca} {modelo}</h2>
      <p class="price">${precio}</p>
      <span class="tag">{condicion}</span>
    </div>
  </div>
</a>

<style>
  .card-link { text-decoration: none; } /* Quitamos el subrayado del enlace */
  .card {
    background-color: var(--color-superficie);
    color: var(--color-texto-principal);
    border: 1px solid var(--color-borde);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    height: 100%;
  }
  .card:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 24px rgba(0,0,0,0.3);
  }
  /* El resto de tus estilos de la tarjeta quedan igual */
</style>